<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
    </head>
    <body>
        <script>
            let result;
            let compChoice;
            let player;
            let playerChoice;
            let plScore = 0;
            let pcScore = 0;
            function playerMove() {
                player = prompt('Choose your weapon...');
                playerChoice = player.toLowerCase();
                console.log('You\'ve chosen ' + playerChoice)
                return playerChoice;
            }
            
            function computerPlay() {
                compChoice = Math.floor(1 + Math.random() * 3);
                console.log(compChoice)
                switch (true) {
                    case compChoice == 1:
                        compChoice = 'rock'
                        break;
                    case compChoice == 2: 
                        compChoice = 'paper'
                        break;
                    default: 
                        compChoice = 'scissors'
                }
                console.log("Computer has chosen " + compChoice)
                return compChoice;
                
            }

            
            
            function playRound(playerSelection, computerSelection) {
                playerSelection();
                computerSelection();
                if (playerChoice == compChoice) {
                    result = 'Draw!';
                } else if ((playerChoice == 'rock' && compChoice == 'scissors') || (playerChoice == 'paper' && compChoice == 'rock') || (playerChoice == 'scissors' && compChoice == 'paper') ) {
                    result = 'You win this round!';
                    plScore += 1;
                } else if ((compChoice == 'rock' && playerChoice == 'scissors') || (compChoice == 'paper' && playerChoice == 'rock') || (compChoice == 'scissors' && playerChoice == 'paper') ) {
                    result = 'You lose this round...';
                    pcScore += 1;
                }
                alert(result);
                console.log(result);
                
                return result;
            }   

            function game() {
                playRound(playerMove, computerPlay);
                playRound(playerMove, computerPlay);
                playRound(playerMove, computerPlay);
                playRound(playerMove, computerPlay);
                playRound(playerMove, computerPlay);
                if (plScore > pcScore) {
                    alert('You win!');
                    console.log('Computer: ' + pcScore + '; You:' + plScore + '. You win!')
                } else {
                    alert('You lose...')
                    console.log('Computer: ' + pcScore + '; You: ' + plScore + '. You lose...')
                }
            }
            
            game();

        </script>
    </body>
</html>